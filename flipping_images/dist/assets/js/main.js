async function init(){let e="dist/assets/img/card",t="dist/assets/webps/card",s=await fetch("dist/assets/data/images.json"),n=await s.json(),a=n.card_back,c=n.card_fronts;let i=c.slice();i.push(n.card_back),i.push(n.game_cover);for(let t=0;t<i.length;t++)l=`${e}/${i[t]}.jpg`,(new Image).src=l;var l;$((function(){let s=$(window),n=$("#js-screen-w"),i=$("#js-screen-h"),l=document.getElementById("js-bg-player");l.volume=.4;let o=document.getElementById("js-correct-player");o.volume=.6;let r=document.getElementById("js-incorrect-player");r.volume=.4;let d=document.getElementById("js-flipping-player");d.volume=.6;let u=document.getElementById("js-start-player");u.volume=.6;let f=$(".js-bg-music-btn"),m=$("#js-bg-music"),p=m.find(".js-bg-music-btn"),g=$(".js-model-closed-btn"),v=$("#js-ready"),h=$("#js-start-btn"),b=$("#js-card-intro-open-btn"),w=$("#js-rules-btn"),j=$("#js-rules"),y=$("#js-language-btn-wrap"),C=$("#js-game-rule-wrap"),k=$("#js-card-intro"),I=$("#js-main-bg-wrap"),x=$("#js-card-wrap"),B=$("#js-back-to-home-btn"),E=$("#js-restart-btn"),O=$("#js-timer"),q=$("#js-history-list"),S=$("#js-game-over-wrap"),P=S.find(".js-game-over-des"),_=$("#player-name"),z=$("#js-game-over-btn"),J=$("#js-reward-wrap"),M=$(".ready-bg-wrap");document.documentElement.style.setProperty("--ready-bg-column",8);let N,T=[],D=[],F=0,G=[],H=0,L=0,R=JSON.parse(localStorage.getItem("scores"))||[];function W(){let s=c.slice();Z(s);let n=s.slice(0,12);T=n.concat(n),Z(T),D=[];for(let e=0;e<n.length;e++)D.push(n[e]);x.fadeOut(),x.empty();for(let s=0;s<T.length;s++)x.append(`<div class="card exist">\n                        <picture>\n                            <source srcset="${e}/${a}.jpg" type="image/webp">\n                            <img class="card-back" src="${t}/${a}.webp" draggable="false">\n                        </picture>\n                        <picture>\n                            <source srcset="${e}/${T[s]}.jpg" type="image/webp">\n                            <img class="card-front" src="${t}/${T[s]}.webp" draggable="false">\n                        </picture>\n                    </div>`);x.fadeIn()}function Y(){H=0,L=0,O.text(`${U(H)}:${U(L)}`),N=setInterval((function(){L++,L>=60&&(L=0,H++),O.text(`${U(H)}:${U(L)}`)}),1e3)}async function A(){D.length<=0&&(await clearInterval(N),function(){let e=60*H+L,t="";t=e<=50?"Excellent!!":e<=65?"Good!":e<=70?"Fair!":e<=100?"Poor...":"Bad...";P.text(`${t} You spend ${U(H)} minute(s) ${U(L)} second(s)!`),S.addClass("show"),_.val(""),z.on("click",(function(){let t=_.val();if(t.length>0){let s={sec:U(e),name:t};R.push(s),R.sort(ee),localStorage.setItem("scores",JSON.stringify(R)),K(),S.removeClass("show"),J.addClass("show"),J.find(".modal-inner-warp").append('\n                <div class="reward-content">\n                    Congratulations!!\n                    <div class="image-wrap"></div>\n                    <div id="js-close-btn" class="btn style-black style-round size-large">Back</div>\n                </div>'),$(document).on("click","#js-close-btn",(function(){J.find(".modal-inner-warp").empty(),J.removeClass("show"),I.addClass("show")})),z.off("click")}else alert("Please enter your name!")}))}())}function K(){q.empty();for(let e=0;e<R.length;e++)q.append(`<li>${R[e].name}<span>${R[e].sec}s</span></li>`)}function Q(){F=0,G=[]}function U(e){return e<10?`0${e}`:e}function V(e){e.currentTime=0,e.play()}function X(){n.text(s.outerWidth()),i.text(s.outerHeight())}function Z(e){for(let t=e.length-1;t>0;t--){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}}function ee(e,t){return e.sec-t.sec}g.on("click",(function(){$(this).parents(".modal-wrap").removeClass("show")})),p.on("click",(function(){m.removeClass("show")})),w.on("click",(function(){j.addClass("show")})),b.on("click",(function(){k.addClass("show")})),B.on("click",(function(){V(u),v.addClass("show")})),y.find(".language-btn").on("click",(function(){let e=$(this).attr("data-tab");y.find(".language-btn.active").removeClass("active"),C.find(".game-rule.active").removeClass("active"),y.find(`.language-btn[data-tab="${e}"]`).addClass("active"),C.find(`.game-rule[data-tab="${e}"]`).addClass("active")})),$(document).on("click",".js-card-item",(function(){$(this).toggleClass("active")})),f.on("click",(function(){let e=$(this).attr("data-status");switch(e){case"on":l.play();break;case"off":l.pause()}f.removeClass("active"),f.filter(`[data-status="${e}"]`).addClass("active")})),s.on("resize",(function(){X()})),s.contextmenu((function(e){e.preventDefault()})),h.on("click",(function(){V(u),clearInterval(N),W(),Q(),I.removeClass("show"),v.removeClass("show"),Y()})),E.on("click",(function(){V(u),clearInterval(N),W(),Q(),I.removeClass("show"),Y()})),$(document).on("click",".exist",(function(){if(V(d),F++,$(this).removeClass("flipped-b-to-f"),$(this).removeClass("flipped-f-to-b"),F<=2){G.push($(this)),$(this).find("img").eq(0).fadeOut(),$(this).addClass("flipped-b-to-f");for(let e=0;e<G.length;e++)G[e].removeClass("exist"),G[e].removeClass("exist");if(2==G.length){let e=G[0].find("img"),t=G[1].find("img");setTimeout((function(){if(e.eq(1).attr("src")==t.eq(1).attr("src"))new Promise((function(s,n){V(o),e.fadeOut(),t.fadeOut(),D.splice(D.indexOf(e.eq(1).attr("src")),1),s(),n()})).then((function(e){A()}),(function(e){}));else{V(r),e.eq(0).fadeIn(),t.eq(0).fadeIn();for(let e=0;e<G.length;e++)G[e].addClass("flipped-f-to-b"),G[e].addClass("flipped-f-to-b");G[0].addClass("exist"),G[1].addClass("exist")}Q()}),800)}}})),function(){let s=c.slice();Z(s);let n=s.slice(0,16);for(let s=0;s<16;s++)M.append(`<div class="card">\n                        <picture>\n                            <source srcset="${t}/${n[s]}.webp" type="image/webp">\n                            <img src="${e}/${n[s]}.png" alt="card">\n                        </picture>\n                    </div>`)}(),function(){let s=c.slice();for(let n=0;n<s.length;n++)k.find(".card-intro-inner-wrap").append(`<div class="js-card-item card">\n                        <picture>\n                            <source srcset="${t}/${s[n]}.webp" type="image/webp">\n                            <img src="${e}/${s[n]}.png" alt="card">\n                        </picture>\n                    </div>`)}(),X(),K()}))}init().then((function(){let e=setInterval((function(){switch(console.log("Loading..."),document.readyState){case"interactive":case"complete":$("#js-loading").removeClass("show"),clearInterval(e),console.log("Ready!")}}),500)}));