!function(e){var t={};function n(s){if(t[s])return t[s].exports;var o=t[s]={i:s,l:!1,exports:{}};return e[s].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(s,o,function(t){return e[t]}.bind(null,o));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){$((function(){setTimeout((function(){$(".loading").fadeOut()}),1e3);let e=[["3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2"],["7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6"],["5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3"],["2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7"],["6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5"],["3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2"]],t=[["E5","F5","#F5/bG5","G5","#G5/bA5","A5","#A5/bB5","B5","C6","#C6/bD6","D6","#D6/bE6","E6","F6","#F6/bG6","G6","#G6/bA6","A6","#A6/bB6","B6","C7","#C7/bD7"],["B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F5/bG5","G5","#G5/bA5","A5","#A5/bB5","B5","C6","#C6/bD6","D6","#D6/bE6","E6","F6","#F6/bG6","G6","#G6/bA6"],["G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F54/bG5","G5","#G5/bA5","A5","#A5/bB5","B5","C6","#C6/bD6","D6","#D6/bE6","E6"],["D4","#D4/bE4","E4","F4","#F4/bG4","G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F5/bG5","G5","#G5/bA5","A5","#A5/bB5","B5"],["A3","#A3/bB3","B3","C4","#C4/bD4","D4","#D4/bE4","E4","F4","#F4/bG4","G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F5/bG5"],["E3","F3","#F3/bG3","G3","#G3/bA3","A3","#A3/bB3","B3","C4","#C4/bD4","D4","#D4/bE4","E4","F4","#F4/bG4","G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5"]],n=[["5","5","5","5","5","5","5","5","6","6","6","6","6","6","6","6","6","6","6","6","7","7"],["4","5","5","5","5","5","5","5","5","5","5","5","5","6","6","6","6","6","6","6","6","6"],["4","4","4","4","4","5","5","5","5","5","5","5","5","5","5","5","5","6","6","6","6","6"],["4","4","4","4","4","4","4","4","4","4","5","5","5","5","5","5","5","5","5","5","5","5"],["3","3","3","4","4","4","4","4","4","4","4","4","4","4","4","5","5","5","5","5","5","5"],["3","3","3","3","3","3","3","3","4","4","4","4","4","4","4","4","4","4","4","4","5","5"]],s=$(".guitar"),o=$(".text"),a=o.find(".tabs-panel"),l=$(".toolbox"),b=$("#toolbox-btn"),i=$(".intro-wrap"),c=$(".intro-wrap .ctr-btn");$(".toolbutton").eq(3).css("display","none");let d='\n        <div class="line selected">\n            <span></span><span></span><span></span><span></span><span></span><span></span>\n            <div class="del">X</div>\n        </div>';for(let e=0;e<=5;e++)e<3?s.append('<div class="chord treble"></div>'):s.append('<div class="chord bass"></div>');function r(){a.find(".line").length>=1?0!==a.find(".line").last().children(".note").length&&($(".line").removeClass("selected"),a.append(d)):a.append(d);let e=a.find(".line.selected");e.find(".del").on("click",(function(t){!function(e){if(a.find(".line").length>1){let t=e.prev(".line"),n=e.next(".line");a.find(".line").removeClass("selected"),a.find(".note").removeClass("selected"),0!=t.length?(t.find(".note").last().addClass("selected"),t.addClass("selected")):0!=n.length&&(n.find(".note").last().addClass("selected"),n.addClass("selected")),e.remove()}else a.find(".line").removeClass("selected"),a.find(".note").removeClass("selected"),e.children().not(".del").not("span").remove(),e.addClass("selected")}(e)}))}function u(e,t,n){let s=`\n            <div class="note selected">\n                <span class="${e} chord-${t}">${n}</span>\n            </div>`;$(".note.selected").removeClass("selected"),$(".line.selected").append(s)}function p(){let e=a.find(".note.selected"),t=e.prev(".note"),n=e.next(".note");0!=t.length?t.addClass("selected"):0!=n.length&&n.addClass("selected"),e.remove()}function f(e){switch(e){case"close":o.stop().animate({height:"100%"},300),l.stop().animate({height:"100%"},300),s.stop().animate({bottom:"-35%"},300),$(".toolbutton").eq(3).css("display","block"),$(".toolbutton").eq(4).css("display","none");break;case"open":o.stop().animate({height:"65%"},300),l.stop().animate({height:"65%"},300),s.stop().animate({bottom:"0"},300),$(".toolbutton").eq(3).css("display","none"),$(".toolbutton").eq(4).css("display","block")}}$(".chord").each((function(s){for(let o=0;o<=21;o++){let a=`\n                <div class="grid" data-chord="${s+1}" data-grid="${o}" data-note="${t[s][o]}" value="${e[s][o]}">\n                    <span class="note-${n[s][o]}">${e[s][o]}</span>\n                </div>`;$(this).append(a)}})),r(),$(".title").on("dblclick",(function(e){var t=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.innerText||t.textContent;return t=null,n}($(".title").html()),n=prompt("請輸入歌名：",t);null==n&&(n=t),$(".title").text(n)})),b.on("click",(function(e){l.toggleClass("closed"),o.toggleClass("full")})),c.on("click",(function(e){i.removeClass("active"),$(".toolbutton").eq(6).removeClass("selected")})),isMobile.phone?($(".line").each((function(e){$(".grid").each((function(e){$(this).on("touchstart",(function(e){u($(this).find("span").attr("class"),$(this).attr("data-chord"),$(this).attr("data-grid"))}))}))})),$(".toolbutton").each((function(e){$(this).on("touchstart",(function(t){switch($(this).addClass("selected"),e){case 0:p();break;case 1:u("note-space",0,"");break;case 2:r();break;case 3:f("open");break;case 4:f("close");break;case 5:i.addClass("active")}})).on("touchend",(function(e){$(this).removeClass("selected")}))}))):($(".line").each((function(e){$(".grid").each((function(e){$(this).on("mousedown",(function(e){u($(this).find("span").attr("class"),$(this).attr("data-chord"),$(this).attr("data-grid"))}))}))})),$(".toolbutton").each((function(e){$(this).on("mousedown",(function(t){switch($(this).addClass("selected"),e){case 0:p();break;case 1:u("note-space",0,"");break;case 2:r();break;case 3:f("open");break;case 4:f("close");break;case 5:i.addClass("active")}})).on("mouseup",(function(e){$(this).removeClass("selected")}))})))}))}]);