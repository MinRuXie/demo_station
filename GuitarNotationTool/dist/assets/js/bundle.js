!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){$((function(){setTimeout((function(){$(".loading").fadeOut()}),1e3);let e=[["3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2"],["7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6"],["5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3"],["2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7"],["6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5"],["3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2","2","#2/b3","3","4","#4/b5","5","#5/b6","6","#6/b7","7","1","#1/b2"]],t=[["E5","F5","#F5/bG5","G5","#G5/bA5","A5","#A5/bB5","B5","C6","#C6/bD6","D6","#D6/bE6","E6","F6","#F6/bG6","G6","#G6/bA6","A6","#A6/bB6","B6","C7","#C7/bD7"],["B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F5/bG5","G5","#G5/bA5","A5","#A5/bB5","B5","C6","#C6/bD6","D6","#D6/bE6","E6","F6","#F6/bG6","G6","#G6/bA6"],["G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F54/bG5","G5","#G5/bA5","A5","#A5/bB5","B5","C6","#C6/bD6","D6","#D6/bE6","E6"],["D4","#D4/bE4","E4","F4","#F4/bG4","G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F5/bG5","G5","#G5/bA5","A5","#A5/bB5","B5"],["A3","#A3/bB3","B3","C4","#C4/bD4","D4","#D4/bE4","E4","F4","#F4/bG4","G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5","D5","#D5/bE5","E5","F5","#F5/bG5"],["E3","F3","#F3/bG3","G3","#G3/bA3","A3","#A3/bB3","B3","C4","#C4/bD4","D4","#D4/bE4","E4","F4","#F4/bG4","G4","#G4/bA4","A4","#A4/bB4","B4","C5","#C5/bD5"]],n=[["5","5","5","5","5","5","5","5","6","6","6","6","6","6","6","6","6","6","6","6","7","7"],["4","5","5","5","5","5","5","5","5","5","5","5","5","6","6","6","6","6","6","6","6","6"],["4","4","4","4","4","5","5","5","5","5","5","5","5","5","5","5","5","6","6","6","6","6"],["4","4","4","4","4","4","4","4","4","4","5","5","5","5","5","5","5","5","5","5","5","5"],["3","3","3","4","4","4","4","4","4","4","4","4","4","4","4","5","5","5","5","5","5","5"],["3","3","3","3","3","3","3","3","4","4","4","4","4","4","4","4","4","4","4","4","5","5"]],o=$(".guitar"),s=$(".text"),a=s.find(".tabs-panel"),l=$(".toolbox"),i=$("#toolbox-btn"),b=$(".intro-wrap"),c=$(".intro-wrap .ctr-btn");$(".toolbutton").eq(3).css("display","none");let d='\n        <div class="line selected">\n            <div class="del">X</div>\n        </div>';for(let e=0;e<=5;e++)e<3?o.append('<div class="chord treble"></div>'):o.append('<div class="chord bass"></div>');function r(){a.find(".line").length>=1?0!==a.find(".line").last().children(".note").length&&($(".line").removeClass("selected"),a.append(d)):a.append(d);let e=a.find(".line.selected");e.find(".del").on("click",(function(t){!function(e){if(a.find(".line").length>1){let t=e.prev(".line"),n=e.next(".line");a.find(".line").removeClass("selected"),a.find(".note").removeClass("selected"),0!=t.length?(t.find(".note").last().addClass("selected"),t.addClass("selected")):0!=n.length&&(n.find(".note").last().addClass("selected"),n.addClass("selected")),e.remove()}else a.find(".line").removeClass("selected"),a.find(".note").removeClass("selected"),e.children().not(".del").not("span").remove(),e.addClass("selected")}(e)}))}function u(n,o,s){let a="";a=""==o?`\n                <div class="note ${n} selected"><span></span></div>`:`\n                <div class="note ${n} selected" title="${t[o-1][s]}">\n                    <span>${e[o-1][s]}</span>\n                </div>`,$(".note.selected").removeClass("selected"),$(".line.selected").append(a)}function f(){let e=a.find(".note.selected"),t=e.prev(".note"),n=e.next(".note");0!=t.length?t.addClass("selected"):0!=n.length&&n.addClass("selected"),e.remove()}function p(e){switch(e){case"close":s.stop().animate({height:"100%"},300),l.stop().animate({height:"100%"},300),o.stop().animate({bottom:"-35%"},300),$(".toolbutton").eq(3).css("display","block"),$(".toolbutton").eq(4).css("display","none");break;case"open":s.stop().animate({height:"65%"},300),l.stop().animate({height:"65%"},300),o.stop().animate({bottom:"0"},300),$(".toolbutton").eq(3).css("display","none"),$(".toolbutton").eq(4).css("display","block")}}$(".chord").each((function(o){for(let s=0;s<=21;s++){let a=`\n                <div class="grid" data-chord="${o+1}" data-grid="${s}" data-note="${t[o][s]}" value="${e[o][s]}" title="${e[o][s]}">\n                    <span class="note-${n[o][s]}">${s}</span>\n                </div>`;$(this).append(a)}})),r(),$(".title").on("dblclick",(function(e){var t=function(e){var t=document.createElement("div");t.innerHTML=e;var n=t.innerText||t.textContent;return t=null,n}($(".title").html()),n=prompt("請輸入歌名：",t);null==n&&(n=t),$(".title").text(n)})),i.on("click",(function(e){l.toggleClass("closed"),s.toggleClass("full")})),c.on("click",(function(e){b.removeClass("active"),$(".toolbutton").eq(6).removeClass("selected")})),isMobile.phone?($(".line").each((function(e){$(".grid").each((function(e){$(this).on("touchstart",(function(e){u($(this).find("span").attr("class"),$(this).attr("data-chord"),$(this).attr("data-grid"))}))}))})),$(".toolbutton").each((function(e){$(this).on("touchstart",(function(t){switch($(this).addClass("selected"),e){case 0:f();break;case 1:u("note-space","","");break;case 2:r();break;case 3:p("open");break;case 4:p("close");break;case 5:b.addClass("active")}})).on("touchend",(function(e){$(this).removeClass("selected")}))}))):($(".line").each((function(e){$(".grid").each((function(e){$(this).on("mousedown",(function(e){u($(this).find("span").attr("class"),$(this).attr("data-chord"),$(this).attr("data-grid"))}))}))})),$(".toolbutton").each((function(e){$(this).on("mousedown",(function(t){switch($(this).addClass("selected"),e){case 0:f();break;case 1:u("note-space","","");break;case 2:r();break;case 3:p("open");break;case 4:p("close");break;case 5:b.addClass("active")}})).on("mouseup",(function(e){$(this).removeClass("selected")}))})),$(window).on("keydown",(function(e){switch(e.keyCode){case 8:f();break;case 13:r();break;case 32:u("note-space","","")}})))}))}]);